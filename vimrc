"--------------------------------------------------------------
" Disables compatibility with vi
"--------------------------------------------------------------
set nocompatible

"--------------------------------------------------------------
" Custom key mapping
"--------------------------------------------------------------
" Enables smooth single line scrolling
"--------------------------------------------------------------
map <ScrollWheelUp> <C-Y>
imap <ScrollWheelUp> <C-X><C-Y>
map <ScrollWheelDown> <C-E>
imap <ScrollWheelDown> <C-X><C-E>

"--------------------------------------------------------------
" Open netrw: horizontal, vertical, new-tab
"--------------------------------------------------------------
map yh :Hexplore <CR>
map yv :Vexplore <CR>
map yt :Texplore <CR>

"--------------------------------------------------------------
" Perform visual yank without cursor jump
"--------------------------------------------------------------
vnoremap <expr>y "my\"" . v:register . "y`y"

"--------------------------------------------------------------
" Close file and exit into previous netrw window
"--------------------------------------------------------------
map yx :Rex <CR>

"--------------------------------------------------------------
" Open new tab
"--------------------------------------------------------------
map tt :tabnew <CR>

"--------------------------------------------------------------
" Move buffer to new window
"--------------------------------------------------------------
map <silent> to <C-W>T

"--------------------------------------------------------------
" Open new empty horizontal buffer
"--------------------------------------------------------------
map th :new <CR>

"--------------------------------------------------------------
" Open new empty vertical buffer
"--------------------------------------------------------------
map tv :vnew <CR>

"--------------------------------------------------------------
" Close open buffer or window
"--------------------------------------------------------------
map qq :q <CR>

"--------------------------------------------------------------
" Exit without saving
"--------------------------------------------------------------
map qx :q! <CR>

"--------------------------------------------------------------
" Save file
"--------------------------------------------------------------
map ss :w <CR>

"--------------------------------------------------------------
" Force file save
"--------------------------------------------------------------
map sx :w! <CR>

"--------------------------------------------------------------
" Reload open file
"--------------------------------------------------------------
map ee :e <CR>

"--------------------------------------------------------------
" Reload open file without saving / Force file reload
"--------------------------------------------------------------
map ex :e! <CR>

"--------------------------------------------------------------
" Change current directory to working file directory
"--------------------------------------------------------------
map cd :cd <CR>

"--------------------------------------------------------------
" Resize horizontal buffers
"--------------------------------------------------------------
map ( :res +3 <CR>
map ) :res -3 <CR>

"--------------------------------------------------------------
" Resize vertical buffers
"--------------------------------------------------------------
map < :vertical resize-3 <CR>
map > :vertical resize+3 <CR>

"--------------------------------------------------------------
" Reload vimrc file
"--------------------------------------------------------------
map <C-N> :source $VIMRC <CR>

"--------------------------------------------------------------
" Better movement in documents>
"--------------------------------------------------------------
map <silent> j gj
map <silent> k gk

"--------------------------------------------------------------
" Switch to previous open tab
"--------------------------------------------------------------
map <silent> gl gT

"--------------------------------------------------------------
" Switch between open buffers
"--------------------------------------------------------------
map <silent> ff <C-W><C-W>

"--------------------------------------------------------------
" Swap open panes postion similar to <C-B>{ in tmux
"--------------------------------------------------------------
map <silent> fg <C-W>r

"--------------------------------------------------------------
" Netrw settings
"--------------------------------------------------------------
" Enable folder copy
"--------------------------------------------------------------
let g:netrw_localcopydircmd='cp -rf'

"--------------------------------------------------------------
" Enable move
"--------------------------------------------------------------
let g:netrw_localmovecmd='mv -f'

"--------------------------------------------------------------
" Turn off netrw banner
"--------------------------------------------------------------
let g:netrw_banner=0

"--------------------------------------------------------------
" Use current dir when copying files
"--------------------------------------------------------------
let g:netrw_keepdir=0

"--------------------------------------------------------------
" Shell settings
"--------------------------------------------------------------
" Point to bash aliases file for when vim shell is used
" i.e bash is not running interactively
"--------------------------------------------------------------
let $BASH_ENV="~/.bashrc"

"--------------------------------------------------------------
" Point to vimrc file
"--------------------------------------------------------------
let $VIMRC="~/.vimrc"

"--------------------------------------------------------------
" General settings
"--------------------------------------------------------------
" Enables unicode support
"--------------------------------------------------------------
set encoding=utf-8

"--------------------------------------------------------------
" Enables clipboard support
"--------------------------------------------------------------
set clipboard=unnamedplus

"--------------------------------------------------------------
" Enables mouse, useful for touch screens
"--------------------------------------------------------------
set mouse=a

"--------------------------------------------------------------
" Enable smoothscroll useful for when wrap is enabled
"--------------------------------------------------------------
set smoothscroll

"--------------------------------------------------------------
" Set cursorline offset from top or bottom of window when scrolling
"--------------------------------------------------------------
set scrolloff=2

"--------------------------------------------------------------
" Set smooth horizontal scrolling
"--------------------------------------------------------------
set sidescroll=2

"--------------------------------------------------------------
" Set horizontal scrolling cursor offset from right or left of window
"--------------------------------------------------------------
set sidescrolloff=2

"--------------------------------------------------------------
" Changes current directory automatically so :cd is not needed
"--------------------------------------------------------------
set autochdir

"--------------------------------------------------------------
" Enable file-type options
"--------------------------------------------------------------
filetype on

"--------------------------------------------------------------
" Enable indentation based on file-type
"--------------------------------------------------------------
filetype indent on

"--------------------------------------------------------------
" Enable file-type plugin
"--------------------------------------------------------------
filetype plugin on

"--------------------------------------------------------------
" Enable indentation plugin for files
"--------------------------------------------------------------
filetype plugin indent on

"--------------------------------------------------------------
" Enable coloring based on syntax
"--------------------------------------------------------------
syntax enable

"--------------------------------------------------------------
" Change syntax coloring parse method
"--------------------------------------------------------------
syntax sync fromstart

"--------------------------------------------------------------
" Enable smartindent
"--------------------------------------------------------------
set smartindent

"--------------------------------------------------------------
" Stop certain movements from always going to the first character of a line.
"--------------------------------------------------------------
set nostartofline

"--------------------------------------------------------------
" Enable automatic indentation
"--------------------------------------------------------------
set autoindent

"--------------------------------------------------------------
" Enable backspacing over indents
"--------------------------------------------------------------
set backspace=indent,eol,start

"--------------------------------------------------------------
" Scan current file for keyword completion
"--------------------------------------------------------------
set complete-=i

"--------------------------------------------------------------
" Indent to the correct location when tab is pressed
"--------------------------------------------------------------
set smarttab

"--------------------------------------------------------------
" Disable spellchecking
"--------------------------------------------------------------
set nospell

"--------------------------------------------------------------
" Set the number of tab space
"--------------------------------------------------------------
set tabstop=4

"--------------------------------------------------------------
" Set number of spaces used for indenting
"--------------------------------------------------------------
set shiftwidth=4

"--------------------------------------------------------------
" Use spaces instead of tab
"--------------------------------------------------------------
set expandtab

"--------------------------------------------------------------
" Set terminal colors to 256
"--------------------------------------------------------------
set t_Co=256

"--------------------------------------------------------------
" Enable line numbers
"--------------------------------------------------------------
set number

"--------------------------------------------------------------
" Disable vim mode, insert, visual etc.
"--------------------------------------------------------------
set noshowmode

"--------------------------------------------------------------
" Disable ruler
"--------------------------------------------------------------
set noruler

"--------------------------------------------------------------
" Disable line wrapping
"--------------------------------------------------------------
set nowrap

"--------------------------------------------------------------
" Enable cursor line highlighting
"--------------------------------------------------------------
set cursorline

"--------------------------------------------------------------
" Enable paste mode, prevent auto indent when pasting code from clipboard
"--------------------------------------------------------------
set paste

"--------------------------------------------------------------
" Set fold method to manual
"--------------------------------------------------------------
set foldmethod=manual

"--------------------------------------------------------------
" Always show tab-line
"--------------------------------------------------------------
set showtabline=2

"--------------------------------------------------------------
" Customize tab indent, EOL
"--------------------------------------------------------------
set listchars=tab:│\ ,trail:⋅,extends:»,precedes:«
set list

"--------------------------------------------------------------
" Enables file auto-reload
"--------------------------------------------------------------
set autoread

"--------------------------------------------------------------
" Color scheme
"--------------------------------------------------------------
color tether

"--------------------------------------------------------------
" Return to last edit position when opening files
"--------------------------------------------------------------
autocmd BufReadPost *
	\ if line("'\"") > 0 && line("'\"") <= line("$") |
	\	 exe "normal! g`\"" |
	\ endif

"--------------------------------------------------------------
" Status-line customization
"--------------------------------------------------------------
" Show the current mode in the status line
"--------------------------------------------------------------
let g:currentmode={
    \ 'n'  : 'NORMAL',
    \ 'no' : 'OPERATOR PENDING',
    \ 'nt' : 'TERMINAL NORMAL',
    \ 'v'  : 'VISUAL',
    \ 'V'  : 'VISUAL LINE',
    \ "\<C-V>" : 'VISUAL BLOCK',
    \ 's'  : 'SELECT',
    \ 'S'  : 'SELECT LINE',
    \ "\<C-S>" : 'SELECT BLOCK',
    \ 'i'  : 'INSERT',
    \ 'R'  : 'REPLACE',
    \ 'Rv' : 'VISUAL REPLACE',
    \ 'c'  : 'COMMAND',
    \ 'cv' : 'VIM EX',
    \ 'ce' : 'EX NORMAL',
    \ 'r'  : 'PROMPT',
    \ 'rm' : 'MORE',
    \ 'r?' : 'CONFIRM',
    \ '!'  : 'SHELL',
    \ 't'  : 'TERMINAL'
    \}

"--------------------------------------------------------------
" Always show the statusline
"--------------------------------------------------------------
set laststatus=2

"--------------------------------------------------------------
" Reset the statusline
"--------------------------------------------------------------
set statusline=

"--------------------------------------------------------------
" Change the color of the status line
"--------------------------------------------------------------
set statusline=%#TablineSel#\ 

"--------------------------------------------------------------
" Show current mode, insert, normal etc
"--------------------------------------------------------------
set statusline+=%{g:currentmode[mode()]}\ 

"--------------------------------------------------------------
" Reset the statusline color
"--------------------------------------------------------------
set statusline+=%*\ 

"--------------------------------------------------------------
" Show the file name and modifier status
"--------------------------------------------------------------
set statusline+=%<%f\ %m%r

"--------------------------------------------------------------
" Separate left and right sections
"--------------------------------------------------------------
set statusline+=%=\ 

"--------------------------------------------------------------
" Show the file type in lowercase letters
"--------------------------------------------------------------
set statusline+=%{''!=#&filetype?&filetype:''}\ 

"--------------------------------------------------------------
" Show the file line numbers in custom color
"--------------------------------------------------------------
set statusline+=%#TabLineSel#\ %l\:%L\ 

"--------------------------------------------------------------
" Enable timeout
"--------------------------------------------------------------
set timeout
set ttimeout

"--------------------------------------------------------------
" Set keymap timeout and Escape timeout
"--------------------------------------------------------------
set timeoutlen=700
set ttimeoutlen=50

"--------------------------------------------------------------
" Highlight all search hits in buffer
"--------------------------------------------------------------
set hlsearch

"--------------------------------------------------------------
" Show search hits as prompt is being typed
"--------------------------------------------------------------
set incsearch

"--------------------------------------------------------------
" Ignore case of search prompt unless using uppercase
"--------------------------------------------------------------
set ignorecase

"--------------------------------------------------------------
" Use ignores ignore-case option and allows case insensitive search
"--------------------------------------------------------------
set smartcase

"--------------------------------------------------------------
" Number format for arithmetic
"--------------------------------------------------------------
set nrformats-=octal

"--------------------------------------------------------------
" Set wild-menu to show full for file suggestions
"--------------------------------------------------------------
set wildmode=full,full
set wildmenu

"--------------------------------------------------------------
" Set command history
"--------------------------------------------------------------
set history=2000

"--------------------------------------------------------------
" Set maximum open tabs
"--------------------------------------------------------------
set tabpagemax=50

"--------------------------------------------------------------
" Set maximum number of revertible changes
"--------------------------------------------------------------
set undolevels=2000

"--------------------------------------------------------------
" Set maximum number of lines for undo
"--------------------------------------------------------------
set undoreload=2000

"--------------------------------------------------------------
" Set an undofile so change history persist across restarts
"--------------------------------------------------------------
set undodir=~/.vim
set undofile
